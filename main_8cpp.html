<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>3-phase PV router: Mk2_3phase_RFdatalog_temp/main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">3-phase PV router
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_7941a5df981581ef513b158e7bb3820e.html">Mk2_3phase_RFdatalog_temp</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main code for the PVRouter 3-phase project.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Arduino.h&gt;</code><br />
<code>#include &quot;<a class="el" href="config_8h_source.html">config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calibration_8h_source.html">calibration.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="processing_8h_source.html">processing.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="types_8h_source.html">types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils_8h_source.html">utils.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="utils__relay_8h_source.html">utils_relay.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="validation_8h_source.html">validation.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp__incl.png" border="0" usemap="#aMk2__3phase__RFdatalog__temp_2main_8cpp" alt=""/></div>
<map name="aMk2__3phase__RFdatalog__temp_2main_8cpp" id="aMk2__3phase__RFdatalog__temp_2main_8cpp">
<area shape="rect" title="Main code for the PVRouter 3&#45;phase project." alt="" coords="2041,5,2219,45"/>
<area shape="rect" title=" " alt="" coords="2604,541,2688,566"/>
<area shape="rect" href="config_8h.html" title="Configuration values to be set by the end&#45;user." alt="" coords="2113,240,2187,265"/>
<area shape="rect" href="types_8h.html" title="Some basics classes/types." alt="" coords="1964,387,2035,412"/>
<area shape="rect" href="utils__relay_8h.html" title="Some utility functions for the relay output feature." alt="" coords="1932,313,2032,339"/>
<area shape="rect" href="calibration_8h.html" title="Calibration values definition." alt="" coords="1951,167,2053,192"/>
<area shape="rect" href="processing_8h.html" title="Public functions/variables of processing engine." alt="" coords="2078,167,2182,192"/>
<area shape="rect" href="utils_8h.html" title="Some utility functions." alt="" coords="2335,93,2397,119"/>
<area shape="rect" href="validation_8h.html" title="Compile&#45;time validations." alt="" coords="2585,167,2683,192"/>
<area shape="rect" href="main_8h.html" title=" " alt="" coords="2731,93,2798,119"/>
<area shape="rect" href="config__system_8h.html" title="Basic configuration values to be set by the end&#45;user." alt="" coords="2209,387,2337,412"/>
<area shape="rect" href="debug_8h.html" title="Some macro for the Serial Output and Debugging." alt="" coords="2059,387,2134,412"/>
<area shape="rect" href="utils__dualtariff_8h.html" title="Some utility functions for dual tariff feature." alt="" coords="2118,460,2246,485"/>
<area shape="rect" href="utils__temp_8h.html" title="Provides utilities for managing temperature sensors." alt="" coords="2412,313,2515,339"/>
<area shape="rect" href="type__traits_8hpp.html" title="Some useful but missing stl functions templates." alt="" coords="1559,460,1679,485"/>
<area shape="rect" href="conditional_8hpp.html" title=" " alt="" coords="5,541,201,566"/>
<area shape="rect" href="decay_8hpp.html" title=" " alt="" coords="225,541,387,566"/>
<area shape="rect" href="enable__if_8hpp.html" title=" " alt="" coords="411,533,551,573"/>
<area shape="rect" href="function__traits_8hpp.html" title=" " alt="" coords="575,533,725,573"/>
<area shape="rect" href="integral__constant_8hpp.html" title=" " alt="" coords="1677,768,1823,808"/>
<area shape="rect" href="is__array_8hpp.html" title=" " alt="" coords="749,541,924,566"/>
<area shape="rect" href="is__base__of_8hpp.html" title=" " alt="" coords="1000,533,1145,573"/>
<area shape="rect" href="remove__reference_8hpp.html" title=" " alt="" coords="548,621,717,647"/>
<area shape="rect" href="is__class_8hpp.html" title=" " alt="" coords="741,621,916,647"/>
<area shape="rect" href="is__const_8hpp.html" title=" " alt="" coords="2209,695,2387,720"/>
<area shape="rect" href="is__convertible_8hpp.html" title=" " alt="" coords="940,621,1155,647"/>
<area shape="rect" href="is__enum_8hpp.html" title=" " alt="" coords="1271,541,1450,566"/>
<area shape="rect" href="is__floating__point_8hpp.html" title=" " alt="" coords="1230,621,1387,647"/>
<area shape="rect" href="is__same_8hpp.html" title=" " alt="" coords="1411,695,1515,720"/>
<area shape="rect" href="is__integral_8hpp.html" title=" " alt="" coords="1412,621,1531,647"/>
<area shape="rect" href="is__pointer_8hpp.html" title=" " alt="" coords="1787,695,1974,720"/>
<area shape="rect" href="is__signed_8hpp.html" title=" " alt="" coords="1607,621,1792,647"/>
<area shape="rect" href="is__unsigned_8hpp.html" title=" " alt="" coords="1816,621,2017,647"/>
<area shape="rect" href="make__unsigned_8hpp.html" title=" " alt="" coords="1893,541,2119,566"/>
<area shape="rect" href="remove__const_8hpp.html" title=" " alt="" coords="2245,533,2391,573"/>
<area shape="rect" href="void__t_8hpp.html" title=" " alt="" coords="2416,541,2580,566"/>
<area shape="rect" title=" " alt="" coords="369,621,443,647"/>
<area shape="rect" href="declval_8hpp.html" title=" " alt="" coords="889,695,987,720"/>
<area shape="rect" href="remove__cv_8hpp.html" title=" " alt="" coords="1540,695,1661,720"/>
<area shape="rect" href="type__identity_8hpp.html" title=" " alt="" coords="1999,695,2133,720"/>
<area shape="rect" href="constants_8h.html" title="Some constants." alt="" coords="2332,460,2429,485"/>
<area shape="rect" href="movingAvg_8h.html" title="Code for sliding&#45;window average." alt="" coords="1687,387,1794,412"/>
<area shape="rect" href="ewma__avg_8hpp.html" title="This file implements an Exponentially Weighted Moving Average template class." alt="" coords="1819,387,1940,412"/>
<area shape="rect" href="utils__pins_8h.html" title="Some utility functions for pins manipulation." alt="" coords="2513,387,2609,412"/>
<area shape="rect" href="FastDivision_8h.html" title=" " alt="" coords="2791,240,2904,265"/>
<area shape="rect" href="dualtariff_8h.html" title="Classes/types needed for dual&#45;tariff support." alt="" coords="2206,167,2299,192"/>
<area shape="rect" href="teleinfo_8h.html" title="Manages telemetry data and frame formatting." alt="" coords="2324,167,2408,192"/>
<area shape="rect" href="utils__rf_8h.html" title="Some utility functions for the RF chip." alt="" coords="2585,240,2664,265"/>
<area shape="rect" title=" " alt="" coords="2591,313,2664,339"/>
</map>
</div>
</div>
<p><a href="main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga31f3d562faae6b598324b56299d74f7d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#ga31f3d562faae6b598324b56299d74f7d">checkDiversionOnOff</a> ()</td></tr>
<tr class="memdesc:ga31f3d562faae6b598324b56299d74f7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks and updates the diversion state based on the diversion pin.  <br /></td></tr>
<tr class="separator:ga31f3d562faae6b598324b56299d74f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5157f7f79cf8c75c2d7b41d8ed47a7ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#ga5157f7f79cf8c75c2d7b41d8ed47a7ef">forceFullPower</a> ()</td></tr>
<tr class="memdesc:ga5157f7f79cf8c75c2d7b41d8ed47a7ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forces all loads to full power if the override pin is active.  <br /></td></tr>
<tr class="separator:ga5157f7f79cf8c75c2d7b41d8ed47a7ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga143b5ab1cc611c04c761240ce5687fdd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#ga143b5ab1cc611c04c761240ce5687fdd">handlePerSecondTasks</a> (bool &amp;bOffPeak, int16_t &amp;iTemperature_x100)</td></tr>
<tr class="memdesc:ga143b5ab1cc611c04c761240ce5687fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles tasks that need to be executed every second.  <br /></td></tr>
<tr class="separator:ga143b5ab1cc611c04c761240ce5687fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05c2e5b588ced1cd7312f5b0edc5b295"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga05c2e5b588ced1cd7312f5b0edc5b295">ISR</a> (ADC_vect)</td></tr>
<tr class="memdesc:ga05c2e5b588ced1cd7312f5b0edc5b295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Service Routine - Interrupt-Driven Analog Conversion.  <br /></td></tr>
<tr class="separator:ga05c2e5b588ced1cd7312f5b0edc5b295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe461d27b9c48d5921c00d521181f12f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#gafe461d27b9c48d5921c00d521181f12f">loop</a> ()</td></tr>
<tr class="memdesc:gafe461d27b9c48d5921c00d521181f12f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main processor loop.  <br /></td></tr>
<tr class="separator:gafe461d27b9c48d5921c00d521181f12f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4774b22349c58cef345ad396aecc868"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#gab4774b22349c58cef345ad396aecc868">proceedLoadPrioritiesAndOverriding</a> (const int16_t &amp;currentTemperature_x100)</td></tr>
<tr class="memdesc:gab4774b22349c58cef345ad396aecc868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles load priorities and overriding logic.  <br /></td></tr>
<tr class="separator:gab4774b22349c58cef345ad396aecc868"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b2ee7cd0a5810e272e1ffb0b5daf0ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#ga2b2ee7cd0a5810e272e1ffb0b5daf0ae">proceedLoadPrioritiesAndOverridingDualTariff</a> (const int16_t &amp;currentTemperature_x100)</td></tr>
<tr class="memdesc:ga2b2ee7cd0a5810e272e1ffb0b5daf0ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles load priorities and overriding during dual tariff periods.  <br /></td></tr>
<tr class="separator:ga2b2ee7cd0a5810e272e1ffb0b5daf0ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b9428fd01019319970f27b88bb1cf33"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#ga9b9428fd01019319970f27b88bb1cf33">proceedRotation</a> ()</td></tr>
<tr class="memdesc:ga9b9428fd01019319970f27b88bb1cf33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Proceeds with load priority rotation.  <br /></td></tr>
<tr class="separator:ga9b9428fd01019319970f27b88bb1cf33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90dc0c3192649d64ae885b62e6afa6e4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a90dc0c3192649d64ae885b62e6afa6e4">processTemperatureData</a> ()</td></tr>
<tr class="memdesc:a90dc0c3192649d64ae885b62e6afa6e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes temperature data from DS18B20 sensors.  <br /></td></tr>
<tr class="separator:a90dc0c3192649d64ae885b62e6afa6e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc01d736fe50cf5b977f755b675f11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d">setup</a> ()</td></tr>
<tr class="memdesc:a4fc01d736fe50cf5b977f755b675f11d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called once during startup.  <br /></td></tr>
<tr class="separator:a4fc01d736fe50cf5b977f755b675f11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09f681954987d95f85831ca82365f987"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__GeneralProcessing.html#ga09f681954987d95f85831ca82365f987">updatePowerAndVoltageData</a> ()</td></tr>
<tr class="memdesc:ga09f681954987d95f85831ca82365f987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates power and voltage data for all phases.  <br /></td></tr>
<tr class="separator:ga09f681954987d95f85831ca82365f987"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main code for the PVRouter 3-phase project. </p>
<dl class="section author"><dt>Author</dt><dd>Frédéric Metrich (<a href="#" onclick="location.href='mai'+'lto:'+'fre'+'de'+'ric'+'.m'+'etr'+'ic'+'h@l'+'iv'+'e.f'+'r'; return false;">frede<span class="obfuscator">.nosp@m.</span>ric.<span class="obfuscator">.nosp@m.</span>metri<span class="obfuscator">.nosp@m.</span>ch@l<span class="obfuscator">.nosp@m.</span>ive.f<span class="obfuscator">.nosp@m.</span>r</a>) </dd></dl>
<p>This file contains the main logic for the PVRouter, including the setup and loop functions, as well as interrupt service routines (ISRs) and utility functions for managing load priorities, temperature sensing, and telemetry data.</p>
<ul>
<li><b>Interrupt-Driven Analog Conversion</b>: Uses an ISR to process ADC data for voltage and current sensors.</li>
<li><b>Load Management</b>: Includes functions for load priority rotation, forced full power, and dual tariff handling.</li>
<li><b>Telemetry</b>: Sends telemetry data in various formats (e.g., IoT, EmonCMS).</li>
<li><b>Temperature Sensing</b>: Supports DS18B20 sensors for temperature monitoring.</li>
<li><b>Watchdog</b>: Toggles a pin to indicate system activity.</li>
</ul>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-02-15</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2023 </dd></dl>

<p class="definition">Definition in file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a90dc0c3192649d64ae885b62e6afa6e4" name="a90dc0c3192649d64ae885b62e6afa6e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90dc0c3192649d64ae885b62e6afa6e4">&#9670;&#160;</a></span>processTemperatureData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processTemperatureData </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes temperature data from DS18B20 sensors. </p>
<p>This function reads temperature values from all connected DS18B20 sensors, filters out invalid readings, and updates the telemetry data structure with valid temperature values. Invalid readings are identified as 85.00°C (encoded as 8500) with a delta greater than 5.00°C (encoded as 500) from the previous reading. After processing, it requests new temperature measurements for the next cycle.</p>
<dl class="section note"><dt>Note</dt><dd>This function assumes that temperature values are stored as integers multiplied by 100 for precision.</dd></dl>
<dl class="section pre"><dt>Precondition</dt><dd>The <code>temperatureSensing</code> object must be initialized and configured with the connected DS18B20 sensors.</dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The <code>tx_data.temperature_x100</code> array is updated with the latest valid temperature readings. </dd></dl>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00454">454</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_cgraph.png" border="0" usemap="#amain_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_cgraph" alt=""/></div>
<map name="amain_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_cgraph" id="amain_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_cgraph">
<area shape="rect" title="Processes temperature data from DS18B20 sensors." alt="" coords="5,77,191,102"/>
<area shape="rect" href="classTemperatureSensing.html#a2ee48e23ceaf2bbc08cc4be575bb7d90" title="Get the number of sensors." alt="" coords="245,5,400,45"/>
<area shape="rect" href="classTemperatureSensing.html#a818e69732219334348f6e6e44774d0fe" title="Reads the temperature of a specific sensor." alt="" coords="245,69,400,109"/>
<area shape="rect" href="classTemperatureSensing.html#a10629740380a6f688ac5c70346a94c80" title="Request temperature for all sensors." alt="" coords="239,133,407,173"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_icgraph.png" border="0" usemap="#amain_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_icgraph" alt=""/></div>
<map name="amain_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_icgraph" id="amain_8cpp_a90dc0c3192649d64ae885b62e6afa6e4_icgraph">
<area shape="rect" title="Processes temperature data from DS18B20 sensors." alt="" coords="104,5,289,31"/>
<area shape="rect" href="group__GeneralProcessing.html#gafe461d27b9c48d5921c00d521181f12f" title="Main processor loop." alt="" coords="5,5,56,31"/>
</map>
</div>

</div>
</div>
<a id="a4fc01d736fe50cf5b977f755b675f11d" name="a4fc01d736fe50cf5b977f755b675f11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc01d736fe50cf5b977f755b675f11d">&#9670;&#160;</a></span>setup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void setup </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called once during startup. </p>
<p>This function initializes the system, configures pins, and prints system configuration to the Serial Monitor. It also initializes optional features like temperature sensing and load priorities.</p>
<ul>
<li>Delays startup to allow time to open the Serial Monitor.</li>
<li>Initializes the Serial interface and debug port.</li>
<li>Displays configuration information.</li>
<li>Initializes all loads to OFF at startup.</li>
<li>Logs load priorities and initializes temperature sensors if present.</li>
<li>Prints available free RAM for debugging purposes. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00379">379</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="main_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph.png" border="0" usemap="#amain_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph" alt=""/></div>
<map name="amain_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph" id="amain_8cpp_a4fc01d736fe50cf5b977f755b675f11d_cgraph">
<area shape="rect" title="Called once during startup." alt="" coords="5,385,64,411"/>
<area shape="rect" href="utils_8h.html#aac7b29dc45caaaca67299571f6a2dcc0" title="Get the available RAM during setup." alt="" coords="165,203,243,228"/>
<area shape="rect" href="processing_8cpp.html#adeeaa08a0a50d8535fdf2c8a92d4aebc" title="Initializes the processing engine, including ports, load states, and ADC setup." alt="" coords="130,252,278,277"/>
<area shape="rect" href="classTemperatureSensing.html#a61b759a6c7b9cfddcdfa075f27988fde" title="Initialize the Dallas sensors." alt="" coords="112,378,296,418"/>
<area shape="rect" href="utils_8h.html#ae473b1c0d80fe056d1fab9bdee38aca1" title="Prints the load priorities to the Serial output." alt="" coords="139,443,269,468"/>
<area shape="rect" href="utils_8h.html#aa45f069fe76674a03f3dd560dd00b1ee" title="Print the configuration during start." alt="" coords="135,492,273,517"/>
<area shape="rect" href="utils__pins_8h.html#aeae4199ba44e9e5de9d228a6b6a8133e" title="Clear the specified bit." alt="" coords="433,301,511,327"/>
<area shape="rect" href="utils__pins_8h.html#a23ed26b879b65f5ddf07facc1e4b18bc" title="Set the specified bit to 1." alt="" coords="745,153,812,179"/>
<area shape="rect" href="processing_8cpp.html#a8995e5745b217d64477574abf086acc7" title="Retrieves the input pins configuration." alt="" coords="421,104,523,129"/>
<area shape="rect" href="processing_8cpp.html#ac599ad38730b3cb0276687ba6cbfaf1e" title="Retrieves the output pins configuration." alt="" coords="415,55,529,80"/>
<area shape="rect" href="processing_8cpp.html#aa8804d52f2d7f9724daca5bb40aff66f" title="Initializes all elements of a given array to a specified value." alt="" coords="415,153,529,179"/>
<area shape="rect" href="utils__pins_8h.html#ac106ac6266d5d7a5328ea0c63778a873" title="Set the pins as INPUT_PULLUP." alt="" coords="393,203,551,228"/>
<area shape="rect" href="utils__pins_8h.html#ad448cf4026a22a8190ea178a02702b2e" title="Set the pins as OUTPUT." alt="" coords="407,252,537,277"/>
<area shape="rect" href="utils__pins_8h.html#abaa54130a12679d0dcc0e7578e0e4d37" title="Read the specified bit." alt="" coords="741,104,816,129"/>
<area shape="rect" href="classRelayEngine.html#a981b20422ed19d2aa87d042c583173ee" title="Get the relay object." alt="" coords="693,5,865,31"/>
<area shape="rect" href="classRelayEngine.html#a1ed9500ebf4f6d7afb519c377fab42d3" title="Get the number of relays." alt="" coords="696,55,861,80"/>
<area shape="rect" href="classTemperatureSensing.html#a10629740380a6f688ac5c70346a94c80" title="Request temperature for all sensors." alt="" coords="388,402,556,442"/>
<area shape="rect" href="classRelayEngine.html#ab3ff0ac83bf3a665174f0ea373974e3a" title="Print the configuration of each relay." alt="" coords="358,467,586,492"/>
<area shape="rect" href="group__DualTariff.html#ga4378fe99f16f9f2a6990ac70c27783a2" title="Print the settings for off&#45;peak period." alt="" coords="371,516,573,541"/>
<area shape="rect" href="processing_8cpp.html#aa2b3b1d496e37e5f29af6a766743dc8b" title="Print the settings used for the selected output mode." alt="" coords="344,565,600,591"/>
<area shape="rect" href="classrelayOutput.html#aa900099d8298cde7d15e3e2dd804df4a" title="Print the configuration of the current relay&#45;diversion." alt="" coords="648,467,909,492"/>
<area shape="rect" href="classrelayOutput.html#aa5e29e98a79b0a99ca429b2d3c80969e" title="Get the import threshold which will turns OFF the relay." alt="" coords="957,368,1200,393"/>
<area shape="rect" href="classrelayOutput.html#a3b3ccb243e3e2c287249e0f0e079f554" title="Get the minimum OFF&#45;time in seconds." alt="" coords="985,417,1172,443"/>
<area shape="rect" href="classrelayOutput.html#aefe2af3c49240ec8fc219a26f37c8bb8" title="Get the minimum ON&#45;time in seconds." alt="" coords="989,467,1169,492"/>
<area shape="rect" href="classrelayOutput.html#ac9bf2670034f07cc718b4a9b7c513155" title="Get the control pin of the relay." alt="" coords="1001,516,1156,541"/>
<area shape="rect" href="classrelayOutput.html#a53d146f5a123d31cae6146e8fb4c038a" title="Get the surplus threshold which will turns ON the relay." alt="" coords="987,566,1170,606"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
