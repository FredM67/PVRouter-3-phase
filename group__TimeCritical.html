<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>3-phase PV router: Time critical functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">3-phase PV router
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Time critical functions</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadc681bbd6c00b6c808ad999bc0e49542"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#gadc681bbd6c00b6c808ad999bc0e49542">confirmPolarity</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:gadc681bbd6c00b6c808ad999bc0e49542"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine prevents a zero-crossing point from being declared until a certain number of consecutive samples in the 'other' half of the waveform have been encountered.  <a href="group__TimeCritical.html#gadc681bbd6c00b6c808ad999bc0e49542">More...</a><br /></td></tr>
<tr class="separator:gadc681bbd6c00b6c808ad999bc0e49542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga05c2e5b588ced1cd7312f5b0edc5b295"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga05c2e5b588ced1cd7312f5b0edc5b295">ISR</a> (ADC_vect)</td></tr>
<tr class="memdesc:ga05c2e5b588ced1cd7312f5b0edc5b295"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt Service Routine - Interrupt-Driven Analog Conversion.  <a href="group__TimeCritical.html#ga05c2e5b588ced1cd7312f5b0edc5b295">More...</a><br /></td></tr>
<tr class="separator:ga05c2e5b588ced1cd7312f5b0edc5b295"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6885cce1d1da17efc43834dadf023b61"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga6885cce1d1da17efc43834dadf023b61">nextLogicalLoadToBeAdded</a> () __attribute__((optimize(&quot;-O3&quot;)))</td></tr>
<tr class="memdesc:ga6885cce1d1da17efc43834dadf023b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the next load that could be added (be aware of the order)  <a href="group__TimeCritical.html#ga6885cce1d1da17efc43834dadf023b61">More...</a><br /></td></tr>
<tr class="separator:ga6885cce1d1da17efc43834dadf023b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8eb0f10cc0d8952e13bca76e7875621"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#gaa8eb0f10cc0d8952e13bca76e7875621">nextLogicalLoadToBeRemoved</a> () __attribute__((optimize(&quot;-O3&quot;)))</td></tr>
<tr class="memdesc:gaa8eb0f10cc0d8952e13bca76e7875621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the next load that could be removed (be aware of the reverse-order)  <a href="group__TimeCritical.html#gaa8eb0f10cc0d8952e13bca76e7875621">More...</a><br /></td></tr>
<tr class="separator:gaa8eb0f10cc0d8952e13bca76e7875621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef29df3a6c44ea8477b816cbdf3005f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#gaef29df3a6c44ea8477b816cbdf3005f3">proceedHighEnergyLevel</a> ()</td></tr>
<tr class="memdesc:gaef29df3a6c44ea8477b816cbdf3005f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the case of high energy level, some action may be required.  <a href="group__TimeCritical.html#gaef29df3a6c44ea8477b816cbdf3005f3">More...</a><br /></td></tr>
<tr class="separator:gaef29df3a6c44ea8477b816cbdf3005f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7ecb8f04a958d86156a6c95581f242d3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga7ecb8f04a958d86156a6c95581f242d3">proceedLowEnergyLevel</a> ()</td></tr>
<tr class="memdesc:ga7ecb8f04a958d86156a6c95581f242d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the case of low energy level, some action may be required.  <a href="group__TimeCritical.html#ga7ecb8f04a958d86156a6c95581f242d3">More...</a><br /></td></tr>
<tr class="separator:ga7ecb8f04a958d86156a6c95581f242d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe8420bd47cd08c6d0327d4dbed06414"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#gafe8420bd47cd08c6d0327d4dbed06414">processCurrentRawSample</a> (const uint8_t phase, const int16_t rawSample)</td></tr>
<tr class="memdesc:gafe8420bd47cd08c6d0327d4dbed06414"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the calculation for the actual current raw sample for the specific phase.  <a href="group__TimeCritical.html#gafe8420bd47cd08c6d0327d4dbed06414">More...</a><br /></td></tr>
<tr class="separator:gafe8420bd47cd08c6d0327d4dbed06414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66a807366f984e34aacec09333ae7772"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga66a807366f984e34aacec09333ae7772">processDataLogging</a> () __attribute__((optimize(&quot;-O3&quot;)))</td></tr>
<tr class="memdesc:ga66a807366f984e34aacec09333ae7772"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process with data logging.  <a href="group__TimeCritical.html#ga66a807366f984e34aacec09333ae7772">More...</a><br /></td></tr>
<tr class="separator:ga66a807366f984e34aacec09333ae7772"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21380cdbe3f783dad431ff1a912cbaa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga21380cdbe3f783dad431ff1a912cbaa1">processLatestContribution</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:ga21380cdbe3f783dad431ff1a912cbaa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the latest contribution after each phase specific new cycle additional processing is performed after each main cycle based on phase 0.  <a href="group__TimeCritical.html#ga21380cdbe3f783dad431ff1a912cbaa1">More...</a><br /></td></tr>
<tr class="separator:ga21380cdbe3f783dad431ff1a912cbaa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7449a97209a4b56151de6fc5197a9daf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga7449a97209a4b56151de6fc5197a9daf">processMinusHalfCycle</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:ga7449a97209a4b56151de6fc5197a9daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the start of a new -ve half cycle, for this phase, just after the zero-crossing point.  <a href="group__TimeCritical.html#ga7449a97209a4b56151de6fc5197a9daf">More...</a><br /></td></tr>
<tr class="separator:ga7449a97209a4b56151de6fc5197a9daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab63947d9b9f7f49dbb62a8ceada3d30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#gaab63947d9b9f7f49dbb62a8ceada3d30">processPlusHalfCycle</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:gaab63947d9b9f7f49dbb62a8ceada3d30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the start of a new +ve half cycle, for this phase, just after the zero-crossing point.  <a href="group__TimeCritical.html#gaab63947d9b9f7f49dbb62a8ceada3d30">More...</a><br /></td></tr>
<tr class="separator:gaab63947d9b9f7f49dbb62a8ceada3d30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81f4cbdafdfc13103fdfa34a136cd6fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga81f4cbdafdfc13103fdfa34a136cd6fd">processPolarity</a> (const uint8_t phase, const int16_t rawSample)</td></tr>
<tr class="memdesc:ga81f4cbdafdfc13103fdfa34a136cd6fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process with the polarity for the actual voltage sample for the specific phase.  <a href="group__TimeCritical.html#ga81f4cbdafdfc13103fdfa34a136cd6fd">More...</a><br /></td></tr>
<tr class="separator:ga81f4cbdafdfc13103fdfa34a136cd6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8cff922940989b7edaa8bd0347f9becc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga8cff922940989b7edaa8bd0347f9becc">processRawSamples</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:ga8cff922940989b7edaa8bd0347f9becc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This routine is called by the ISR when a pair of V &amp; I sample becomes available.  <a href="group__TimeCritical.html#ga8cff922940989b7edaa8bd0347f9becc">More...</a><br /></td></tr>
<tr class="separator:ga8cff922940989b7edaa8bd0347f9becc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5a8b9dce34e44a69a46344e8ee1c0dd6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga5a8b9dce34e44a69a46344e8ee1c0dd6">processStartNewCycle</a> ()</td></tr>
<tr class="memdesc:ga5a8b9dce34e44a69a46344e8ee1c0dd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0.  <a href="group__TimeCritical.html#ga5a8b9dce34e44a69a46344e8ee1c0dd6">More...</a><br /></td></tr>
<tr class="separator:ga5a8b9dce34e44a69a46344e8ee1c0dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4bd9766ebd8acc09da5413f6d613f123"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga4bd9766ebd8acc09da5413f6d613f123">processStartUp</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:ga4bd9766ebd8acc09da5413f6d613f123"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the startup period for the router.  <a href="group__TimeCritical.html#ga4bd9766ebd8acc09da5413f6d613f123">More...</a><br /></td></tr>
<tr class="separator:ga4bd9766ebd8acc09da5413f6d613f123"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaed3b88c01657f322f7b985574a3427fd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#gaed3b88c01657f322f7b985574a3427fd">processVoltage</a> (const uint8_t phase)</td></tr>
<tr class="memdesc:gaed3b88c01657f322f7b985574a3427fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the calculation for the current voltage sample for the specific phase.  <a href="group__TimeCritical.html#gaed3b88c01657f322f7b985574a3427fd">More...</a><br /></td></tr>
<tr class="separator:gaed3b88c01657f322f7b985574a3427fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b45c0ceb64e191cb1f053c28f02cee6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga7b45c0ceb64e191cb1f053c28f02cee6">processVoltageRawSample</a> (const uint8_t phase, const int16_t rawSample)</td></tr>
<tr class="memdesc:ga7b45c0ceb64e191cb1f053c28f02cee6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process the current voltage raw sample for the specific phase.  <a href="group__TimeCritical.html#ga7b45c0ceb64e191cb1f053c28f02cee6">More...</a><br /></td></tr>
<tr class="separator:ga7b45c0ceb64e191cb1f053c28f02cee6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1950a35c4c210dae480943adca0a3c88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__TimeCritical.html#ga1950a35c4c210dae480943adca0a3c88">updatePhysicalLoadStates</a> ()</td></tr>
<tr class="memdesc:ga1950a35c4c210dae480943adca0a3c88"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function provides the link between the logical and physical loads.  <a href="group__TimeCritical.html#ga1950a35c4c210dae480943adca0a3c88">More...</a><br /></td></tr>
<tr class="separator:ga1950a35c4c210dae480943adca0a3c88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Functions used by the ISR </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadc681bbd6c00b6c808ad999bc0e49542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadc681bbd6c00b6c808ad999bc0e49542">&#9670;&nbsp;</a></span>confirmPolarity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void confirmPolarity </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This routine prevents a zero-crossing point from being declared until a certain number of consecutive samples in the 'other' half of the waveform have been encountered. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00327">327</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="ga05c2e5b588ced1cd7312f5b0edc5b295"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga05c2e5b588ced1cd7312f5b0edc5b295">&#9670;&nbsp;</a></span>ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ISR </td>
          <td>(</td>
          <td class="paramtype">ADC_vect&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt Service Routine - Interrupt-Driven Analog Conversion. </p>
<p>An Interrupt Service Routine is now defined which instructs the ADC to perform a conversion for each of the voltage and current sensors in turn.</p>
<p>This Interrupt Service Routine is for use when the ADC is in the free-running mode. It is executed whenever an ADC conversion has finished, approx every 104 Âµs. In free-running mode, the ADC has already started its next conversion by the time that the ISR is executed. The ISR therefore needs to "look ahead".</p>
<p>At the end of conversion Type N, conversion Type N+1 will start automatically. The ISR which runs at this point therefore needs to capture the results of conversion Type N, and set up the conditions for conversion Type N+2, and so on.</p>
<p>By means of various helper functions, all of the time-critical activities are processed within the ISR.</p>
<p>The main code is notified by means of a flag when fresh copies of loggable data are available.</p>
<p>Keep in mind, when writing an Interrupt Service Routine (ISR):</p><ul>
<li>Keep it short</li>
<li>Don't use delay()</li>
<li>Don't do serial prints</li>
<li>Make variables shared with the main code volatile</li>
<li>Variables shared with main code may need to be protected by "critical sections"</li>
<li>Don't try to turn interrupts off or on </li>
</ul>

<p class="definition">Definition at line <a class="el" href="main_8cpp_source.html#l00077">77</a> of file <a class="el" href="main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a id="ga6885cce1d1da17efc43834dadf023b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6885cce1d1da17efc43834dadf023b61">&#9670;&nbsp;</a></span>nextLogicalLoadToBeAdded()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t nextLogicalLoadToBeAdded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the next load that could be added (be aware of the order) </p>
<dl class="section return"><dt>Returns</dt><dd>The load number if successful, NO_OF_DUMPLOADS in case of failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00581">581</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="gaa8eb0f10cc0d8952e13bca76e7875621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa8eb0f10cc0d8952e13bca76e7875621">&#9670;&nbsp;</a></span>nextLogicalLoadToBeRemoved()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t nextLogicalLoadToBeRemoved </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve the next load that could be removed (be aware of the reverse-order) </p>
<dl class="section return"><dt>Returns</dt><dd>The load number if successful, NO_OF_DUMPLOADS in case of failure </dd></dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00602">602</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="gaef29df3a6c44ea8477b816cbdf3005f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaef29df3a6c44ea8477b816cbdf3005f3">&#9670;&nbsp;</a></span>proceedHighEnergyLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proceedHighEnergyLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the case of high energy level, some action may be required. </p>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00407">407</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_gaef29df3a6c44ea8477b816cbdf3005f3_icgraph.png" border="0" usemap="#agroup__TimeCritical_gaef29df3a6c44ea8477b816cbdf3005f3_icgraph" alt=""/></div>
<map name="agroup__TimeCritical_gaef29df3a6c44ea8477b816cbdf3005f3_icgraph" id="agroup__TimeCritical_gaef29df3a6c44ea8477b816cbdf3005f3_icgraph">
<area shape="rect" title="Process the case of high energy level, some action may be required." alt="" coords="425,5,609,32"/>
<area shape="rect" href="group__TimeCritical.html#ga5a8b9dce34e44a69a46344e8ee1c0dd6" title="This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0." alt="" coords="209,5,377,32"/>
<area shape="rect" href="group__TimeCritical.html#ga8cff922940989b7edaa8bd0347f9becc" title="This routine is called by the ISR when a pair of V &amp; I sample becomes available." alt="" coords="5,5,161,32"/>
</map>
</div>

</div>
</div>
<a id="ga7ecb8f04a958d86156a6c95581f242d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ecb8f04a958d86156a6c95581f242d3">&#9670;&nbsp;</a></span>proceedLowEnergyLevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void proceedLowEnergyLevel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the case of low energy level, some action may be required. </p>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00448">448</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_ga7ecb8f04a958d86156a6c95581f242d3_icgraph.png" border="0" usemap="#agroup__TimeCritical_ga7ecb8f04a958d86156a6c95581f242d3_icgraph" alt=""/></div>
<map name="agroup__TimeCritical_ga7ecb8f04a958d86156a6c95581f242d3_icgraph" id="agroup__TimeCritical_ga7ecb8f04a958d86156a6c95581f242d3_icgraph">
<area shape="rect" title="Process the case of low energy level, some action may be required." alt="" coords="425,5,605,32"/>
<area shape="rect" href="group__TimeCritical.html#ga5a8b9dce34e44a69a46344e8ee1c0dd6" title="This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0." alt="" coords="209,5,377,32"/>
<area shape="rect" href="group__TimeCritical.html#ga8cff922940989b7edaa8bd0347f9becc" title="This routine is called by the ISR when a pair of V &amp; I sample becomes available." alt="" coords="5,5,161,32"/>
</map>
</div>

</div>
</div>
<a id="gafe8420bd47cd08c6d0327d4dbed06414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafe8420bd47cd08c6d0327d4dbed06414">&#9670;&nbsp;</a></span>processCurrentRawSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processCurrentRawSample </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&#160;</td>
          <td class="paramname"><em>rawSample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the calculation for the actual current raw sample for the specific phase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
    <tr><td class="paramname">rawSample</td><td>the current sample for the specified phase </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00296">296</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="ga66a807366f984e34aacec09333ae7772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga66a807366f984e34aacec09333ae7772">&#9670;&nbsp;</a></span>processDataLogging()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processDataLogging </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process with data logging. </p>
<p>At the end of each datalogging period, copies are made of the relevant variables for use by the main code. These variable are then reset for use during the next datalogging period. </p>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00652">652</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_ga66a807366f984e34aacec09333ae7772_icgraph.png" border="0" usemap="#agroup__TimeCritical_ga66a807366f984e34aacec09333ae7772_icgraph" alt=""/></div>
<map name="agroup__TimeCritical_ga66a807366f984e34aacec09333ae7772_icgraph" id="agroup__TimeCritical_ga66a807366f984e34aacec09333ae7772_icgraph">
<area shape="rect" title="Process with data logging." alt="" coords="216,5,371,32"/>
<area shape="rect" href="group__TimeCritical.html#gaab63947d9b9f7f49dbb62a8ceada3d30" title="Process the start of a new +ve half cycle, for this phase, just after the zero&#45;crossing point." alt="" coords="5,5,168,32"/>
</map>
</div>

</div>
</div>
<a id="ga21380cdbe3f783dad431ff1a912cbaa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga21380cdbe3f783dad431ff1a912cbaa1">&#9670;&nbsp;</a></span>processLatestContribution()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processLatestContribution </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the latest contribution after each phase specific new cycle additional processing is performed after each main cycle based on phase 0. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00625">625</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="ga7449a97209a4b56151de6fc5197a9daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7449a97209a4b56151de6fc5197a9daf">&#9670;&nbsp;</a></span>processMinusHalfCycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processMinusHalfCycle </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the start of a new -ve half cycle, for this phase, just after the zero-crossing point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00549">549</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="gaab63947d9b9f7f49dbb62a8ceada3d30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab63947d9b9f7f49dbb62a8ceada3d30">&#9670;&nbsp;</a></span>processPlusHalfCycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processPlusHalfCycle </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the start of a new +ve half cycle, for this phase, just after the zero-crossing point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00699">699</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_gaab63947d9b9f7f49dbb62a8ceada3d30_cgraph.png" border="0" usemap="#agroup__TimeCritical_gaab63947d9b9f7f49dbb62a8ceada3d30_cgraph" alt=""/></div>
<map name="agroup__TimeCritical_gaab63947d9b9f7f49dbb62a8ceada3d30_cgraph" id="agroup__TimeCritical_gaab63947d9b9f7f49dbb62a8ceada3d30_cgraph">
<area shape="rect" title="Process the start of a new +ve half cycle, for this phase, just after the zero&#45;crossing point." alt="" coords="5,5,168,32"/>
<area shape="rect" href="group__TimeCritical.html#ga66a807366f984e34aacec09333ae7772" title="Process with data logging." alt="" coords="216,5,371,32"/>
</map>
</div>

</div>
</div>
<a id="ga81f4cbdafdfc13103fdfa34a136cd6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81f4cbdafdfc13103fdfa34a136cd6fd">&#9670;&nbsp;</a></span>processPolarity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processPolarity </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&#160;</td>
          <td class="paramname"><em>rawSample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process with the polarity for the actual voltage sample for the specific phase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
    <tr><td class="paramname">rawSample</td><td>the current sample for the specified phase </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00280">280</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="ga8cff922940989b7edaa8bd0347f9becc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8cff922940989b7edaa8bd0347f9becc">&#9670;&nbsp;</a></span>processRawSamples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processRawSamples </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This routine is called by the ISR when a pair of V &amp; I sample becomes available. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00727">727</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_ga8cff922940989b7edaa8bd0347f9becc_cgraph.png" border="0" usemap="#agroup__TimeCritical_ga8cff922940989b7edaa8bd0347f9becc_cgraph" alt=""/></div>
<map name="agroup__TimeCritical_ga8cff922940989b7edaa8bd0347f9becc_cgraph" id="agroup__TimeCritical_ga8cff922940989b7edaa8bd0347f9becc_cgraph">
<area shape="rect" title="This routine is called by the ISR when a pair of V &amp; I sample becomes available." alt="" coords="5,81,161,108"/>
<area shape="rect" href="group__TimeCritical.html#ga5a8b9dce34e44a69a46344e8ee1c0dd6" title="This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0." alt="" coords="209,81,377,108"/>
<area shape="rect" href="group__TimeCritical.html#gaef29df3a6c44ea8477b816cbdf3005f3" title="Process the case of high energy level, some action may be required." alt="" coords="430,5,614,32"/>
<area shape="rect" href="group__TimeCritical.html#ga7ecb8f04a958d86156a6c95581f242d3" title="Process the case of low energy level, some action may be required." alt="" coords="432,56,612,83"/>
<area shape="rect" href="group__TimeCritical.html#ga1950a35c4c210dae480943adca0a3c88" title="This function provides the link between the logical and physical loads." alt="" coords="425,107,619,133"/>
<area shape="rect" href="processing_8h.html#a44ac46a7ff4e0717bd668d5907b38249" title="update the control ports for each of the physical loads" alt="" coords="451,157,593,184"/>
</map>
</div>

</div>
</div>
<a id="ga5a8b9dce34e44a69a46344e8ee1c0dd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5a8b9dce34e44a69a46344e8ee1c0dd6">&#9670;&nbsp;</a></span>processStartNewCycle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processStartNewCycle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0. </p>
<p>Changing the state of the loads is a 3-part process:</p><ul>
<li>change the LOGICAL load states as necessary to maintain the energy level</li>
<li>update the PHYSICAL load states according to the logical -&gt; physical mapping</li>
<li>update the driver lines for each of the loads. </li>
</ul>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00494">494</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_cgraph.png" border="0" usemap="#agroup__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_cgraph" alt=""/></div>
<map name="agroup__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_cgraph" id="agroup__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_cgraph">
<area shape="rect" title="This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0." alt="" coords="5,81,173,108"/>
<area shape="rect" href="group__TimeCritical.html#gaef29df3a6c44ea8477b816cbdf3005f3" title="Process the case of high energy level, some action may be required." alt="" coords="226,5,410,32"/>
<area shape="rect" href="group__TimeCritical.html#ga7ecb8f04a958d86156a6c95581f242d3" title="Process the case of low energy level, some action may be required." alt="" coords="228,56,408,83"/>
<area shape="rect" href="group__TimeCritical.html#ga1950a35c4c210dae480943adca0a3c88" title="This function provides the link between the logical and physical loads." alt="" coords="221,107,415,133"/>
<area shape="rect" href="processing_8h.html#a44ac46a7ff4e0717bd668d5907b38249" title="update the control ports for each of the physical loads" alt="" coords="247,157,389,184"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_icgraph.png" border="0" usemap="#agroup__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_icgraph" alt=""/></div>
<map name="agroup__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_icgraph" id="agroup__TimeCritical_ga5a8b9dce34e44a69a46344e8ee1c0dd6_icgraph">
<area shape="rect" title="This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0." alt="" coords="209,5,377,32"/>
<area shape="rect" href="group__TimeCritical.html#ga8cff922940989b7edaa8bd0347f9becc" title="This routine is called by the ISR when a pair of V &amp; I sample becomes available." alt="" coords="5,5,161,32"/>
</map>
</div>

</div>
</div>
<a id="ga4bd9766ebd8acc09da5413f6d613f123"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4bd9766ebd8acc09da5413f6d613f123">&#9670;&nbsp;</a></span>processStartUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processStartUp </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the startup period for the router. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00383">383</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="gaed3b88c01657f322f7b985574a3427fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaed3b88c01657f322f7b985574a3427fd">&#9670;&nbsp;</a></span>processVoltage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void processVoltage </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process the calculation for the current voltage sample for the specific phase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00353">353</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="ga7b45c0ceb64e191cb1f053c28f02cee6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7b45c0ceb64e191cb1f053c28f02cee6">&#9670;&nbsp;</a></span>processVoltageRawSample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void processVoltageRawSample </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>phase</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int16_t&#160;</td>
          <td class="paramname"><em>rawSample</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Process the current voltage raw sample for the specific phase. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">phase</td><td>the phase number [0..NO_OF_PHASES[ </td></tr>
    <tr><td class="paramname">rawSample</td><td>the current sample for the specified phase </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00773">773</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>

</div>
</div>
<a id="ga1950a35c4c210dae480943adca0a3c88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1950a35c4c210dae480943adca0a3c88">&#9670;&nbsp;</a></span>updatePhysicalLoadStates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void updatePhysicalLoadStates </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function provides the link between the logical and physical loads. </p>
<p>The array, logicalLoadState[], contains the on/off state of all logical loads, with element 0 being for the one with the highest priority. The array, physicalLoadState[], contains the on/off state of all physical loads.</p>
<p>The lowest 7 bits of element is the load number as defined in 'physicalLoadState'. The highest bit of each 'loadPrioritiesAndState' determines if the load is ON or OFF. The order of each element in 'loadPrioritiesAndState' determines the load priority. 'loadPrioritiesAndState[i] &amp; loadStateMask' will extract the load number at position 'i' 'loadPrioritiesAndState[i] &amp; loadStateOnBit' will extract the load state at position 'i'</p>
<p>Any other mapping relationships could be configured here. </p>

<p class="definition">Definition at line <a class="el" href="processing_8cpp_source.html#l00233">233</a> of file <a class="el" href="processing_8cpp_source.html">processing.cpp</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__TimeCritical_ga1950a35c4c210dae480943adca0a3c88_icgraph.png" border="0" usemap="#agroup__TimeCritical_ga1950a35c4c210dae480943adca0a3c88_icgraph" alt=""/></div>
<map name="agroup__TimeCritical_ga1950a35c4c210dae480943adca0a3c88_icgraph" id="agroup__TimeCritical_ga1950a35c4c210dae480943adca0a3c88_icgraph">
<area shape="rect" title="This function provides the link between the logical and physical loads." alt="" coords="425,31,619,57"/>
<area shape="rect" href="processing_8h.html#adeeaa08a0a50d8535fdf2c8a92d4aebc" title="Initializes the ports and load states for processing." alt="" coords="219,5,367,32"/>
<area shape="rect" href="group__TimeCritical.html#ga5a8b9dce34e44a69a46344e8ee1c0dd6" title="This code is executed once per 20mS, shortly after the start of each new mains cycle on phase 0." alt="" coords="209,56,377,83"/>
<area shape="rect" href="main_8cpp.html#a4fc01d736fe50cf5b977f755b675f11d" title="Called once during startup." alt="" coords="54,5,113,32"/>
<area shape="rect" href="group__TimeCritical.html#ga8cff922940989b7edaa8bd0347f9becc" title="This routine is called by the ISR when a pair of V &amp; I sample becomes available." alt="" coords="5,56,161,83"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
